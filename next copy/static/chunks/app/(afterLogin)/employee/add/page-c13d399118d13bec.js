(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{5760:(e,t,s)=>{Promise.resolve().then(s.bind(s,4145))},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6962:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});let r=(0,s(3198).y)(),o={signup:e=>r.post("/signup",e),login:async e=>{let t=await r.post("/login",e);return t.token&&(localStorage.setItem("accessToken",t.token),localStorage.setItem("user",JSON.stringify(t.user))),t},logout:async()=>{try{localStorage.removeItem("accessToken"),localStorage.removeItem("user")}catch(e){throw console.error("Logout error:",e),e}}}},3198:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});let r="http://43.201.218.199",o=()=>{let e=localStorage.getItem("accessToken");return{"Content-Type":"application/json",Accept:"application/json",...e&&{Authorization:"Bearer ".concat(e)}}},a=()=>{let e=async e=>{let t=e.headers.get("content-type"),s=null==t?void 0:t.includes("application/json"),r=s?await e.json():await e.text();if(!e.ok)throw{message:s?r.message:"An error occurred",status:e.status,errors:r.errors};return r};return{get:async t=>{try{let s=await fetch("".concat(r).concat(t),{method:"GET",headers:o(),credentials:"same-origin",mode:"cors",cache:"no-store"});return e(s)}catch(e){throw n(e)}},post:async(t,s)=>{try{let a=await fetch("".concat(r).concat(t),{method:"POST",headers:o(),credentials:"same-origin",mode:"cors",body:s?JSON.stringify(s):void 0});return e(a)}catch(e){throw n(e)}},put:async(t,s)=>{try{let a=await fetch("".concat(r).concat(t),{method:"PUT",headers:o(),credentials:"same-origin",mode:"cors",body:s?JSON.stringify(s):void 0});return e(a)}catch(e){throw n(e)}},delete:async t=>{try{let s=await fetch("".concat(r).concat(t),{method:"DELETE",headers:o(),credentials:"same-origin",mode:"cors"});return e(s)}catch(e){throw n(e)}}}},n=e=>{if(e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error occurred. Please check your connection.");if("status"in e)switch(e.status){case 401:throw localStorage.removeItem("token"),Error("Authentication failed. Please login again.");case 403:throw Error("You do not have permission to perform this action.");case 404:throw Error("The requested resource was not found.");case 422:throw Error(e.errors?Object.values(e.errors).flat().join(", "):e.message);default:throw Error(e.message||"An unexpected error occurred.")}throw e}},4145:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5155),o=s(6046),a=s(2115),n=s(6307),i=s(5848),u=s(6962);function l(){let e=(0,o.useRouter)(),[t,s]=(0,a.useState)({username:"",password:"",passwordConfirm:"",email:"",firstName:"",lastName:"",street:"",housenumber:"",zipcode:"",city:"",country:"",role:""}),[l,d]=(0,a.useState)(!1),[m,c]=(0,a.useState)(!1),h=(0,a.useRef)(null),[b,x]=(0,a.useState)({}),p=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:r})),b[t]&&x(e=>({...e,[t]:""}))},f=(0,i.n)({mutationFn:u.Z.signup,onSuccess:t=>{console.log(t),e.push("/")},onError:e=>{console.error("Server Error Details:",{error:e}),e.errors?x(e.errors):x({username:e.message})}}),w=()=>{let e={};return t.username||(e.username="Username is required"),t.password?t.password.length<4&&(e.password="Password must be at least 4 characters"):e.password="Password is required",t.password!==t.passwordConfirm&&(e.passwordConfirm="Passwords do not match"),t.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(e.email="Invalid email format"):e.email="Email is required",t.firstName||(e.firstName="First Name is required"),t.lastName||(e.lastName="Last Name is required"),t.zipcode||(e.zipcode="Zipcode is required"),x(e),0===Object.keys(e).length},g=async e=>{e.preventDefault(),w()&&(f.mutate(t),console.log(t))};return(0,a.useEffect)(()=>{document.activeElement===h.current?(d((0,n.A)(t.email)),c(!0)):c(!1)},[t.email,m]),(0,r.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,r.jsx)("div",{className:"mx-auto w-full max-w-[550px]",children:(0,r.jsxs)("form",{onSubmit:g,children:[(0,r.jsx)("h3",{className:"mb-8 block text-2xl font-medium text-[#07074D]",children:"Create Account"}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"username",children:"Username*"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"username",value:t.username,onChange:p}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"password",children:"Password*"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"password",name:"password",value:t.password,onChange:p}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"passwordConfirm",children:"Repeat Password*"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"password",name:"passwordConfirm",value:t.passwordConfirm,onChange:p}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"email",children:"Email*"}),!l&&m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:h,className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-red-500 focus:shadow-md",type:"email",name:"email",value:t.email,onChange:p}),(0,r.jsxs)("div",{className:"mb-3 bg-red-100 border-t border-b border-red-500 text-red-700 px-4 py-3",role:"alert",children:[(0,r.jsx)("p",{className:"font-bold",children:"Invalid Email"}),(0,r.jsx)("p",{className:"text-sm",children:"Please use valid Email"})]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("input",{ref:h,className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"email",name:"email",value:t.email,onChange:p})}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"firstName",children:"First Name*"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"firstName",value:t.firstName,onChange:p}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"lastName",children:"Last Name*"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"lastName",value:t.lastName,onChange:p}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",children:"Address"}),(0,r.jsxs)("div",{className:"grid grid-cols-4",children:[(0,r.jsxs)("div",{className:"col-span-3",children:[(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"street",children:"Street"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-1 px-3 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"street",value:t.street,onChange:p}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"ml-5",children:[(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"housenumber",children:"Nr"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-1 px-3  text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"housenumber",value:t.housenumber,onChange:p}),(0,r.jsx)("br",{})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2",children:[(0,r.jsxs)("div",{className:"mr-5",children:[(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"zipcode",children:"PLZ"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-1 px-3 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"number",name:"zipcode",value:t.zipcode,onChange:p}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"city",children:"Ort"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-1 px-3  text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"city",value:t.city,onChange:p}),(0,r.jsx)("br",{})]})]}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"country",children:"Land"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-1 px-3  text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"country",value:t.country,onChange:p})]}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"role",children:"Role*"}),(0,r.jsx)("input",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",type:"text",name:"role",value:t.role,onChange:p}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{className:"mb-8 block text-base font-medium text-gray-500",children:"* required"}),(0,r.jsx)("button",{className:"hover:shadow-form rounded-md bg-blue-500 hover:bg-blue-400 py-3 px-8 text-base font-semibold text-white outline-none",disabled:"pending"===f.status,type:"submit",children:"Add New Employee"})]})})})}},6307:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},5848:(e,t,s)=>{"use strict";s.d(t,{n:()=>m});var r=s(2115),o=s(1049),a=s(5586),n=s(9323),i=s(4403),u=class extends n.Q{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.EN)(t.mutationKey)!==(0,i.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#o(),this.#a()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#o(){let e=this.#s?.state??(0,o.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.j.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},l=s(5906),d=s(6373);function m(e,t){let s=(0,l.jE)(t),[o]=r.useState(()=>new u(s,e));r.useEffect(()=>{o.setOptions(e)},[o,e]);let n=r.useSyncExternalStore(r.useCallback(e=>o.subscribe(a.j.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=r.useCallback((e,t)=>{o.mutate(e,t).catch(d.l)},[o]);if(n.error&&(0,d.G)(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}},6373:(e,t,s)=>{"use strict";function r(e,t){return"function"==typeof e?e(...t):!!e}function o(){}s.d(t,{G:()=>r,l:()=>o})}},e=>{var t=t=>e(e.s=t);e.O(0,[306,441,517,358],()=>t(5760)),_N_E=e.O()}]);
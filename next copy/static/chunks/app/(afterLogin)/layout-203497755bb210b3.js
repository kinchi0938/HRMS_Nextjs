(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{9792:(t,e,s)=>{Promise.resolve().then(s.bind(s,5475))},7396:(t,e,s)=>{"use strict";s.d(e,{default:()=>o.a});var r=s(4839),o=s.n(r)},6046:(t,e,s)=>{"use strict";var r=s(6658);s.o(r,"useParams")&&s.d(e,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(e,{useRouter:function(){return r.useRouter}})},6962:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});let r=(0,s(3198).y)(),o={signup:t=>r.post("/signup",t),login:async t=>{let e=await r.post("/login",t);return e.token&&(localStorage.setItem("accessToken",e.token),localStorage.setItem("user",JSON.stringify(e.user))),e},logout:async()=>{try{localStorage.removeItem("accessToken"),localStorage.removeItem("user")}catch(t){throw console.error("Logout error:",t),t}}}},3198:(t,e,s)=>{"use strict";s.d(e,{y:()=>n});let r="http://43.201.218.199",o=()=>{let t=localStorage.getItem("accessToken");return{"Content-Type":"application/json",Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}}},n=()=>{let t=async t=>{let e=t.headers.get("content-type"),s=null==e?void 0:e.includes("application/json"),r=s?await t.json():await t.text();if(!t.ok)throw{message:s?r.message:"An error occurred",status:t.status,errors:r.errors};return r};return{get:async e=>{try{let s=await fetch("".concat(r).concat(e),{method:"GET",headers:o(),credentials:"same-origin",mode:"cors",cache:"no-store"});return t(s)}catch(t){throw i(t)}},post:async(e,s)=>{try{let n=await fetch("".concat(r).concat(e),{method:"POST",headers:o(),credentials:"same-origin",mode:"cors",body:s?JSON.stringify(s):void 0});return t(n)}catch(t){throw i(t)}},put:async(e,s)=>{try{let n=await fetch("".concat(r).concat(e),{method:"PUT",headers:o(),credentials:"same-origin",mode:"cors",body:s?JSON.stringify(s):void 0});return t(n)}catch(t){throw i(t)}},delete:async e=>{try{let s=await fetch("".concat(r).concat(e),{method:"DELETE",headers:o(),credentials:"same-origin",mode:"cors"});return t(s)}catch(t){throw i(t)}}}},i=t=>{if(t instanceof TypeError&&"Failed to fetch"===t.message)throw Error("Network error occurred. Please check your connection.");if("status"in t)switch(t.status){case 401:throw localStorage.removeItem("token"),Error("Authentication failed. Please login again.");case 403:throw Error("You do not have permission to perform this action.");case 404:throw Error("The requested resource was not found.");case 422:throw Error(t.errors?Object.values(t.errors).flat().join(", "):t.message);default:throw Error(t.message||"An unexpected error occurred.")}throw t}},5475:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var r=s(5155),o=s(6060),n=s(6962),i=s(6344),a=s(5906),u=s(5848),c=s(7396),l=s(6046),h=s(2115),d=s(3391);function m(t){let{children:e}=t,{isAuthenticated:s}=(0,o.A)(),m=(0,l.useRouter)(),p=(0,d.wA)(),g=(0,a.jE)(),f=(0,u.n)({mutationFn:n.Z.logout,onSuccess:()=>{p((0,i.ri)()),g.clear(),m.push("/login")},onError:t=>{console.error("Logout failed:",t),p((0,i.ri)()),m.push("/login")}}),y=()=>{f.mutate()};return((0,h.useEffect)(()=>{s||m.push("/login")},[s,m]),s)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{"data-testid":"test",className:"w-full min-w-[375px] z-30 top-10 py-1 bg-white shadow-lg border-b border-blue-400",children:(0,r.jsxs)("div",{className:"w-full min-w-min flex items-center justify-between mt-0 px-6 py-2",children:[(0,r.jsx)("div",{className:"flex items-center w-full order-3 md:order-1 text-blue-700",children:(0,r.jsx)(c.default,{href:"/employee",children:(0,r.jsx)("button",{className:"text-xs md:text-base bg-green-400 text-white  p-2 rounded  hover:bg-green-300 hover:text-gray-100",children:"See All the Employees"})})}),(0,r.jsx)("div",{className:"order-3 flex flex-wrap items-center justify-end mr-4",children:(0,r.jsxs)("div",{className:"flex items-center w-full md:w-full",children:[(0,r.jsx)(c.default,{href:"/employee/add",children:(0,r.jsx)("button",{className:"text-xs md:text-base bg-green-400 text-white mr-4 p-2 rounded  hover:bg-green-300 hover:text-gray-100",children:"Add New"})}),(0,r.jsx)(c.default,{href:"/",children:(0,r.jsx)("button",{className:"text-xs md:text-base bg-blue-600 text-white  p-2 rounded  hover:bg-blue-500 hover:text-gray-100",onClick:()=>y(),children:"Log out"})})]})})]})}),(0,r.jsx)("div",{children:e})]}):null}},6060:(t,e,s)=>{"use strict";s.d(e,{A:()=>i});var r=s(2115),o=s(3391),n=s(6344);let i=()=>{let t=(0,o.wA)(),{isAuthenticated:e,token:s,user:i}=(0,o.d4)(t=>t.auth);return(0,r.useEffect)(()=>{t((0,n.T5)())},[t]),{isAuthenticated:e,token:s,user:i}}},6344:(t,e,s)=>{"use strict";s.d(e,{Ay:()=>l,LA:()=>a,T5:()=>c,ri:()=>u});var r=s(8943),o=s(720);let n={token:(0,o.Lg)("accessToken"),isAuthenticated:!!(0,o.Lg)("accessToken"),user:null},i=(0,r.Z0)({name:"auth",initialState:n,reducers:{setCredentials:(t,e)=>{let{user:s,token:r}=e.payload;t.user=s,t.token=r,t.isAuthenticated=!0,(0,o.ZB)("accessToken",r),(0,o.ZB)("user",JSON.stringify(s))},logout:t=>{t.user=null,t.token=null,t.isAuthenticated=!1,(0,o.$1)("accessToken"),(0,o.$1)("user")},checkAuth:t=>{let e=(0,o.Lg)("accessToken"),s=JSON.parse((0,o.Lg)("user")||"null");t.isAuthenticated=!!e,t.user=s,t.token=e}}}),{setCredentials:a,logout:u,checkAuth:c}=i.actions,l=i.reducer},720:(t,e,s)=>{"use strict";s.d(e,{$1:()=>n,Lg:()=>r,ZB:()=>o});let r=t=>localStorage.getItem(t),o=(t,e)=>{localStorage.setItem(t,e)},n=t=>{localStorage.removeItem(t)}},5848:(t,e,s)=>{"use strict";s.d(e,{n:()=>h});var r=s(2115),o=s(1049),n=s(5586),i=s(9323),a=s(4403),u=class extends i.Q{#t;#e=void 0;#s;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,a.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.EN)(e.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#n(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#o(),this.#n()}mutate(t,e){return this.#r=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#o(){let t=this.#s?.state??(0,o.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#n(t){n.j.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,s),this.#r.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#r.onError?.(t.error,e,s),this.#r.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c=s(5906),l=s(6373);function h(t,e){let s=(0,c.jE)(e),[o]=r.useState(()=>new u(s,t));r.useEffect(()=>{o.setOptions(t)},[o,t]);let i=r.useSyncExternalStore(r.useCallback(t=>o.subscribe(n.j.batchCalls(t)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),a=r.useCallback((t,e)=>{o.mutate(t,e).catch(l.l)},[o]);if(i.error&&(0,l.G)(o.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}},6373:(t,e,s)=>{"use strict";function r(t,e){return"function"==typeof t?t(...e):!!t}function o(){}s.d(e,{G:()=>r,l:()=>o})}},t=>{var e=e=>t(t.s=e);t.O(0,[306,505,839,441,517,358],()=>e(9792)),_N_E=t.O()}]);
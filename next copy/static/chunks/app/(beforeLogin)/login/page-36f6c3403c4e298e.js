(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{5988:(t,e,s)=>{Promise.resolve().then(s.bind(s,5339))},7396:(t,e,s)=>{"use strict";s.d(e,{default:()=>n.a});var r=s(4839),n=s.n(r)},6046:(t,e,s)=>{"use strict";var r=s(6658);s.o(r,"useParams")&&s.d(e,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(e,{useRouter:function(){return r.useRouter}})},6962:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});let r=(0,s(3198).y)(),n={signup:t=>r.post("/signup",t),login:async t=>{let e=await r.post("/login",t);return e.token&&(localStorage.setItem("accessToken",e.token),localStorage.setItem("user",JSON.stringify(e.user))),e},logout:async()=>{try{localStorage.removeItem("accessToken"),localStorage.removeItem("user")}catch(t){throw console.error("Logout error:",t),t}}}},3198:(t,e,s)=>{"use strict";s.d(e,{y:()=>o});let r="http://43.201.218.199",n=()=>{let t=localStorage.getItem("accessToken");return{"Content-Type":"application/json",Accept:"application/json",...t&&{Authorization:"Bearer ".concat(t)}}},o=()=>{let t=async t=>{let e=t.headers.get("content-type"),s=null==e?void 0:e.includes("application/json"),r=s?await t.json():await t.text();if(!t.ok)throw{message:s?r.message:"An error occurred",status:t.status,errors:r.errors};return r};return{get:async e=>{try{let s=await fetch("".concat(r).concat(e),{method:"GET",headers:n(),credentials:"same-origin",mode:"cors",cache:"no-store"});return t(s)}catch(t){throw a(t)}},post:async(e,s)=>{try{let o=await fetch("".concat(r).concat(e),{method:"POST",headers:n(),credentials:"same-origin",mode:"cors",body:s?JSON.stringify(s):void 0});return t(o)}catch(t){throw a(t)}},put:async(e,s)=>{try{let o=await fetch("".concat(r).concat(e),{method:"PUT",headers:n(),credentials:"same-origin",mode:"cors",body:s?JSON.stringify(s):void 0});return t(o)}catch(t){throw a(t)}},delete:async e=>{try{let s=await fetch("".concat(r).concat(e),{method:"DELETE",headers:n(),credentials:"same-origin",mode:"cors"});return t(s)}catch(t){throw a(t)}}}},a=t=>{if(t instanceof TypeError&&"Failed to fetch"===t.message)throw Error("Network error occurred. Please check your connection.");if("status"in t)switch(t.status){case 401:throw localStorage.removeItem("token"),Error("Authentication failed. Please login again.");case 403:throw Error("You do not have permission to perform this action.");case 404:throw Error("The requested resource was not found.");case 422:throw Error(t.errors?Object.values(t.errors).flat().join(", "):t.message);default:throw Error(t.message||"An unexpected error occurred.")}throw t}},5339:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>h});var r=s(5155),n=s(7396),o=s(2115),a=s(5848),i=s(6962),u=s(6046),c=s(3391),l=s(6344);function h(){let t=(0,c.wA)(),e=(0,u.useRouter)(),[s,h]=(0,o.useState)(""),[d,m]=(0,o.useState)(""),[g,p]=(0,o.useState)(null),f=(0,a.n)({mutationFn:t=>i.Z.login(t),onSuccess:s=>{t((0,l.LA)({user:s.user,token:s.token})),e.push("/employee")},onError:t=>{console.error("Login error:",t),p(t.message||"Login failed. Please try again.")}}),b=async t=>{if(t.preventDefault(),!s||!d){p("Please fill in all fields");return}f.mutate({username:s,password:d})};return(0,r.jsxs)("div",{className:"p-10 h-screen w-screen flex flex-col-reverse md:flex-row items-center justify-center bg-gray-200",children:[(0,r.jsxs)("div",{className:"content basis-1/2 text-3xl text-center md:text-right",children:[(0,r.jsx)("h1",{className:"text-5xl text-blue-500 font-bold",children:"HR Manager"}),(0,r.jsx)("p",{children:"Please Login to use this App."})]}),(0,r.jsx)("div",{className:"container basis-1/2 flex flex-col items-center",children:(0,r.jsxs)("form",{className:"shadow-lg w-80 p-4 flex flex-col bg-white rounded-lg",onSubmit:b,children:[g&&(0,r.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:g}),(0,r.jsx)("input",{className:"mb-3 py-3 px-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-cyan-500",placeholder:"Username",type:"text",name:"username",value:s,onChange:t=>h(t.target.value),disabled:"pending"===f.status}),(0,r.jsx)("input",{className:"mb-3 py-3 px-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-cyan-500",placeholder:"Password",type:"password",name:"password",value:d,onChange:t=>m(t.target.value),disabled:"pending"===f.status}),(0,r.jsx)("button",{className:"w-full bg-blue-500 hover:bg-blue-400 text-white p-3 rounded-lg font-semibold text-lg disabled:opacity-50",type:"submit",disabled:"pending"===f.status,children:"pending"===f.status?"Logging in...":"Log In"}),(0,r.jsx)("hr",{className:"mt-8"}),(0,r.jsx)("button",{className:"w-full bg-green-400 hover:bg-green-300 mt-8 mb-4 text-white p-3 rounded-lg font-semibold text-lg",type:"button",children:(0,r.jsx)(n.default,{href:"/signup",children:"Create New Account"})})]})})]})}},6344:(t,e,s)=>{"use strict";s.d(e,{Ay:()=>l,LA:()=>i,T5:()=>c,ri:()=>u});var r=s(8943),n=s(720);let o={token:(0,n.Lg)("accessToken"),isAuthenticated:!!(0,n.Lg)("accessToken"),user:null},a=(0,r.Z0)({name:"auth",initialState:o,reducers:{setCredentials:(t,e)=>{let{user:s,token:r}=e.payload;t.user=s,t.token=r,t.isAuthenticated=!0,(0,n.ZB)("accessToken",r),(0,n.ZB)("user",JSON.stringify(s))},logout:t=>{t.user=null,t.token=null,t.isAuthenticated=!1,(0,n.$1)("accessToken"),(0,n.$1)("user")},checkAuth:t=>{let e=(0,n.Lg)("accessToken"),s=JSON.parse((0,n.Lg)("user")||"null");t.isAuthenticated=!!e,t.user=s,t.token=e}}}),{setCredentials:i,logout:u,checkAuth:c}=a.actions,l=a.reducer},720:(t,e,s)=>{"use strict";s.d(e,{$1:()=>o,Lg:()=>r,ZB:()=>n});let r=t=>localStorage.getItem(t),n=(t,e)=>{localStorage.setItem(t,e)},o=t=>{localStorage.removeItem(t)}},5848:(t,e,s)=>{"use strict";s.d(e,{n:()=>h});var r=s(2115),n=s(1049),o=s(5586),a=s(9323),i=s(4403),u=class extends a.Q{#t;#e=void 0;#s;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,i.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,i.EN)(e.mutationKey)!==(0,i.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(t,e){return this.#r=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){let t=this.#s?.state??(0,n.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#o(t){o.j.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,s),this.#r.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#r.onError?.(t.error,e,s),this.#r.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c=s(5906),l=s(6373);function h(t,e){let s=(0,c.jE)(e),[n]=r.useState(()=>new u(s,t));r.useEffect(()=>{n.setOptions(t)},[n,t]);let a=r.useSyncExternalStore(r.useCallback(t=>n.subscribe(o.j.batchCalls(t)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=r.useCallback((t,e)=>{n.mutate(t,e).catch(l.l)},[n]);if(a.error&&(0,l.G)(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}},6373:(t,e,s)=>{"use strict";function r(t,e){return"function"==typeof t?t(...e):!!t}function n(){}s.d(e,{G:()=>r,l:()=>n})}},t=>{var e=e=>t(t.s=e);t.O(0,[306,505,839,441,517,358],()=>e(5988)),_N_E=t.O()}]);
(()=>{var e={};e.id=654,e.ids=[654],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},669:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(260),o=r(8203),n=r(5155),i=r.n(n),a=r(7292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["(afterLogin)",{children:["employee",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8025)),"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5041)),"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1354)),"/Users/hannes/Projects/hrms_nextjs/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(afterLogin)/employee/page",pathname:"/employee",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5474:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,6313,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},2330:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,6013,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},7866:(e,t,r)=>{Promise.resolve().then(r.bind(r,8025))},8034:(e,t,r)=>{Promise.resolve().then(r.bind(r,8013))},4584:(e,t,r)=>{Promise.resolve().then(r.bind(r,5041))},8136:(e,t,r)=>{Promise.resolve().then(r.bind(r,5061))},5206:(e,t,r)=>{Promise.resolve().then(r.bind(r,3104))},478:(e,t,r)=>{Promise.resolve().then(r.bind(r,3352))},1794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});let s=(0,r(7680).y)(),o={signup:e=>s.post("/signup",e),login:async e=>{let t=await s.post("/login",e);return t.token&&(localStorage.setItem("accessToken",t.token),localStorage.setItem("user",JSON.stringify(t.user))),t},logout:async()=>{try{localStorage.removeItem("accessToken"),localStorage.removeItem("user")}catch(e){throw console.error("Logout error:",e),e}}}},7680:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});let s="http://43.201.218.199",o=()=>({"Content-Type":"application/json",Accept:"application/json"}),n=()=>{let e=async e=>{let t=e.headers.get("content-type"),r=t?.includes("application/json"),s=r?await e.json():await e.text();if(!e.ok)throw{message:r?s.message:"An error occurred",status:e.status,errors:s.errors};return s};return{get:async t=>{try{let r=await fetch(`${s}${t}`,{method:"GET",headers:o(),credentials:"same-origin",mode:"cors",cache:"no-store"});return e(r)}catch(e){throw i(e)}},post:async(t,r)=>{try{let n=await fetch(`${s}${t}`,{method:"POST",headers:o(),credentials:"same-origin",mode:"cors",body:r?JSON.stringify(r):void 0});return e(n)}catch(e){throw i(e)}},put:async(t,r)=>{try{let n=await fetch(`${s}${t}`,{method:"PUT",headers:o(),credentials:"same-origin",mode:"cors",body:r?JSON.stringify(r):void 0});return e(n)}catch(e){throw i(e)}},delete:async t=>{try{let r=await fetch(`${s}${t}`,{method:"DELETE",headers:o(),credentials:"same-origin",mode:"cors"});return e(r)}catch(e){throw i(e)}}}},i=e=>{if(e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error occurred. Please check your connection.");if("status"in e)switch(e.status){case 401:throw localStorage.removeItem("token"),Error("Authentication failed. Please login again.");case 403:throw Error("You do not have permission to perform this action.");case 404:throw Error("The requested resource was not found.");case 422:throw Error(e.errors?Object.values(e.errors).flat().join(", "):e.message);default:throw Error(e.message||"An unexpected error occurred.")}throw e}},9966:(e,t,r)=>{"use strict";r.d(t,{R:()=>o});let s=(0,r(7680).y)(),o={getEmployeeList:async()=>await s.get("/employee"),getEmployee:async e=>await s.get(`/employee/${e}`),updateEmployee:async(e,t)=>await s.put(`/employee/edit/${e}`,t),deleteEmployee:async e=>await s.delete(`/employee/${e}`)}},8013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5512),o=r(6008),n=r(9633),i=r(9966);function a(){let{data:e=[],isLoading:t,error:r}=(0,n.I)({queryKey:["employees"],queryFn:i.R.getEmployeeList,refetchOnMount:!0});return t?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):r?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Error loading employees"}):(0,s.jsxs)("div",{className:"flex flex-col item-center bg-gray-200 min-w-[375px]",children:[(0,s.jsx)("h1",{className:"pt-5 pl-10 block text-2xl font-medium text-[#07074D]",children:"All Employees List"}),(0,s.jsx)("div",{className:"flex p-2 justify-end mb-5 mr-10",children:(0,s.jsx)("button",{className:"hover:shadow-form rounded-md bg-blue-500 hover:bg-blue-400 py-2 px-4 text-sm font-semibold text-white outline-none",onClick:()=>{(e=>{let t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),s=document.createElement("a");s.setAttribute("hidden",""),s.setAttribute("href",r),s.setAttribute("download","ListOfEmployees.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)})((e=>{let t=[];for(let r of(t.push("First Name,Last Name,Street,Nr,Zipcode,City,Country,Role"),e)){let e=[r.firstName,r.lastName,r.street,r.housenumber,r.zipcode,r.city,r.country,r.role].map(e=>`"${String(e).replace(/"/g,'\\"')}"`);t.push(e.join(","))}return t.join("\n")})(e))},children:"Download Employee List"})}),(0,s.jsx)("ul",{children:e.map(e=>(0,s.jsx)("li",{className:"mx-10 my-2",children:(0,s.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-4 md:max-w-full p-5 rounded-xl bg-white p-4 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex md:col-span-3 w-3/4",children:[(0,s.jsx)("div",{className:"flex mr-10 h-12 w-12 items-center justify-center rounded-full border border-orange-100 bg-orange-50",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsxs)("div",{className:"truncate text-ellipsis text-base md:text-xl font-semibold",children:[e.firstName," \xa0",e.lastName]}),(0,s.jsx)("p",{className:"truncate text-ellipsis text-sm md:text-base text-gray-300",children:e.email})]})]}),(0,s.jsxs)("div",{className:"flex justify-end mt-5 md:mt-0",children:[(0,s.jsx)(o.default,{className:"flex items-center hover:shadow-form mr-5 rounded-md bg-amber-500 hover:bg-amber-400 py-2 px-4 text-sm font-semibold text-white outline-none",href:`/employee/${e._id}`,children:"Profile"}),(0,s.jsx)(o.default,{className:"flex items-center hover:shadow-form rounded-md bg-amber-500 hover:bg-amber-400 py-2 px-4 text-sm font-semibold text-white outline-none",href:`/employee/edit/${e._id}`,children:"Edit"})]})]})},e._id))}),(0,s.jsx)("hr",{className:"m-5"})]})}},5061:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5512),o=r(636),n=r(1794),i=r(1010),a=r(4186),l=r(191),d=r(6008),c=r(9334);r(8009);var u=r(2273);function m({children:e}){let{isAuthenticated:t}=(0,o.A)(),r=(0,c.useRouter)(),m=(0,u.wA)(),h=(0,a.jE)(),p=(0,l.n)({mutationFn:n.Z.logout,onSuccess:()=>{m((0,i.ri)()),h.clear(),r.push("/login")},onError:e=>{console.error("Logout failed:",e),m((0,i.ri)()),r.push("/login")}}),x=()=>{p.mutate()};return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("nav",{"data-testid":"test",className:"w-full min-w-[375px] z-30 top-10 py-1 bg-white shadow-lg border-b border-blue-400",children:(0,s.jsxs)("div",{className:"w-full min-w-min flex items-center justify-between mt-0 px-6 py-2",children:[(0,s.jsx)("div",{className:"flex items-center w-full order-3 md:order-1 text-blue-700",children:(0,s.jsx)(d.default,{href:"/employee",children:(0,s.jsx)("button",{className:"text-xs md:text-base bg-green-400 text-white  p-2 rounded  hover:bg-green-300 hover:text-gray-100",children:"See All the Employees"})})}),(0,s.jsx)("div",{className:"order-3 flex flex-wrap items-center justify-end mr-4",children:(0,s.jsxs)("div",{className:"flex items-center w-full md:w-full",children:[(0,s.jsx)(d.default,{href:"/employee/add",children:(0,s.jsx)("button",{className:"text-xs md:text-base bg-green-400 text-white mr-4 p-2 rounded  hover:bg-green-300 hover:text-gray-100",children:"Add New"})}),(0,s.jsx)(d.default,{href:"/",children:(0,s.jsx)("button",{className:"text-xs md:text-base bg-blue-600 text-white  p-2 rounded  hover:bg-blue-500 hover:text-gray-100",onClick:()=>x(),children:"Log out"})})]})})]})}),(0,s.jsx)("div",{children:e})]}):null}},3352:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(5512),o=r(7166),n=r(4186),i=r(8009),a=r(2273),l=r(2231),d=r(1010);let c=(0,l.Z0)({name:"user",initialState:{currentUser:null},reducers:{setUser:(e,t)=>{e.currentUser=t.payload},clearUser:e=>{e.currentUser=null}}}),{setUser:u,clearUser:m}=c.actions,h=c.reducer,p=(0,l.U1)({reducer:{auth:d.Ay,user:h}});function x({children:e}){let[t,r]=(0,i.useState)(!1);return(0,a.wA)(),t?e:null}function f({children:e}){let[t]=(0,i.useState)(()=>new o.E({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}}));return(0,s.jsx)(a.Kq,{store:p,children:(0,s.jsx)(x,{children:(0,s.jsxs)(n.Ht,{client:t,children:[e,!1]})})})}r(6510)},636:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(8009),o=r(2273),n=r(1010);let i=()=>{let e=(0,o.wA)(),{isAuthenticated:t,token:r,user:i}=(0,o.d4)(e=>e.auth);return(0,s.useEffect)(()=>{e((0,n.T5)())},[e]),{isAuthenticated:t,token:r,user:i}}},1010:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,LA:()=>a,T5:()=>d,ri:()=>l});var s=r(2231),o=r(6510);let n={token:(0,o.Lg)("accessToken"),isAuthenticated:!!(0,o.Lg)("accessToken"),user:null},i=(0,s.Z0)({name:"auth",initialState:n,reducers:{setCredentials:(e,t)=>{let{user:r,token:s}=t.payload;e.user=r,e.token=s,e.isAuthenticated=!0,(0,o.ZB)("accessToken",s),(0,o.ZB)("user",JSON.stringify(r))},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,(0,o.$1)("accessToken"),(0,o.$1)("user")},checkAuth:e=>{let t=(0,o.Lg)("accessToken"),r=JSON.parse((0,o.Lg)("user")||"null");e.isAuthenticated=!!t,e.user=r,e.token=t}}}),{setCredentials:a,logout:l,checkAuth:d}=i.actions,c=i.reducer},6510:(e,t,r)=>{"use strict";r.d(t,{$1:()=>n,Lg:()=>s,ZB:()=>o});let s=e=>null,o=(e,t)=>{},n=e=>{}},8025:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/page.tsx","default")},5041:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/layout.tsx","default")},1354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>n});var s=r(2740);r(1135);var o=r(3104);let n={title:"HR Manage System with Nextjs",description:"Make your HR Managing easier",icons:{icon:"hr.svg"}};function i({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{children:(0,s.jsx)(o.default,{children:e})})})}},3104:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hannes/Projects/hrms_nextjs/src/app/providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hannes/Projects/hrms_nextjs/src/app/providers.tsx","default")},1135:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[442,625,438],()=>r(669));module.exports=s})();
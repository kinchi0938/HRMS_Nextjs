(()=>{var e={};e.id=708,e.ids=[708],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},6617:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>m,routeModule:()=>x,tree:()=>d});var r=s(260),n=s(8203),o=s(5155),a=s.n(o),l=s(7292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d=["",{children:["(afterLogin)",{children:["employee",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9923)),"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5041)),"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"/Users/hannes/Projects/hrms_nextjs/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/[id]/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(afterLogin)/employee/[id]/page",pathname:"/employee/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8280:(e,t,s)=>{Promise.resolve().then(s.bind(s,9923))},3128:(e,t,s)=>{Promise.resolve().then(s.bind(s,789))},789:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(5512),n=s(9334),o=s(8009);function a({isOpen:e,onClose:t,onConfirm:s,isPending:n}){return e?(0,r.jsx)("div",{className:"fixed inset-0 w-full h-screen flex justify-center items-center bg-gray-400 bg-opacity-50",children:(0,r.jsxs)("div",{className:"relative p-5 bg-white",children:[(0,r.jsx)("h3",{className:"mb-8 block text-2xl font-medium text-[#07074D]",children:"Are you Sure?"}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{className:"mx-5 rounded-md bg-blue-500 hover:bg-blue-400 max-w-sm w-full py-3 px-5 mb-5 text-sm font-semibold text-white outline-none",onClick:t,disabled:n,children:"No, I do not want to Delete"}),(0,r.jsx)("button",{className:"mx-5 rounded-md bg-red-500 hover:bg-red-400 max-w-sm w-full py-3 px-5 mb-5 text-sm font-semibold text-white outline-none",onClick:s,disabled:n,children:n?"Deleting...":"Yes, I want to Delete"})]})]})}):null}function l({employee:e,onEdit:t,onDelete:s}){return(0,r.jsx)("div",{className:"mx-auto w-full max-w-[550px] h-auto rounded-xl bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 p-5",children:[(0,r.jsxs)("div",{className:"grid grid-rows-6 mr-5 min-w-min",children:[(0,r.jsx)("div",{className:"text-sm font-bold",children:"Full Name"}),(0,r.jsx)("div",{className:"text-sm font-bold",children:"Email"}),(0,r.jsx)("div",{className:"text-sm font-bold row-span-2",children:"Address"}),(0,r.jsx)("div",{className:"text-sm font-bold",children:"Role"})]}),(0,r.jsxs)("div",{className:"grid grid-rows-6 col-span-3",children:[(0,r.jsxs)("div",{className:"truncate",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("div",{className:"truncate",children:e.email}),(0,r.jsxs)("div",{className:"truncate",children:[e.housenumber,", ",e.street]}),(0,r.jsxs)("div",{className:"truncate",children:[e.zipcode,", ",e.city,", ",e.country]}),(0,r.jsx)("div",{className:"truncate",children:e.role})]})]}),(0,r.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[(0,r.jsx)("button",{onClick:t,className:"flex justify-center mx-5 rounded-md bg-blue-500 hover:bg-blue-400 max-w-sm w-full py-3 px-5 mb-5 text-sm font-semibold text-white outline-none",children:"Edit"}),(0,r.jsx)("button",{onClick:s,className:"mx-5 rounded-md bg-red-500 hover:bg-red-400 max-w-sm w-full py-3 px-5 mb-5 text-sm font-semibold text-white outline-none",children:"Delete"})]})]})})}var i=s(9320);function d({comments:e,onSubmitComment:t}){let[s,n]=(0,o.useState)("");return(0,r.jsxs)("div",{className:"mx-auto w-full max-w-[550px] h-auto rounded-xl bg-white shadow-lg mt-10 p-5",children:[(0,r.jsx)("h3",{className:"text-xs font-semibold uppercase text-gray-400 mb-1",children:"Comments"}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:e?.map((e,t)=>r.jsxs("div",{className:"grid grid-cols-3",children:[r.jsx("div",{className:"text-2xl col-span-2 break-all py-5",children:e.text}),r.jsxs("div",{className:"flex flex-col py-5 pl-10",children:[r.jsx("div",{className:"text-base font-semibold",children:e.author}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString()})]})]},t))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("hr",{className:"bg-gray-700 my-5"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s),n("")},children:[(0,r.jsx)("label",{className:"mb-3 block text-base font-medium text-[#07074D]",htmlFor:"comment",children:"New Comment"}),(0,r.jsx)("textarea",{className:"w-full mb-5 rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#60a5fa] focus:shadow-md",name:"comment",value:s,onChange:e=>n(e.target.value)}),(0,r.jsx)("button",{className:"hover:shadow-form rounded-md bg-blue-500 hover:bg-blue-400 py-3 px-8 text-base font-semibold text-white outline-none",type:"submit",children:"Write Comment"})]})]})]})}let m=(0,s(7680).y)(),c={createComment:async e=>await m.post("/comment",e)};var x=s(4186),u=s(191);let h=()=>{let e=(0,x.jE)(),{id:t}=(0,n.useParams)();return(0,u.n)({mutationFn:async e=>(await c.createComment(e)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["employee",t]})},onError:e=>{console.error("Error creating comment:",e)}})};var p=s(636);function b(){let{id:e}=(0,n.useParams)(),t=(0,n.useRouter)(),{user:s}=(0,p.A)(),[m,c]=(0,o.useState)(!1),{data:x,isLoading:u,isError:b}=(0,i.uC)(e),f=h(),g=(0,i.WE)(e),j=async()=>{try{await g.mutateAsync(),t.push("/employee")}catch(e){console.error("Error deleting employee:",e)}};return u?(0,r.jsx)("div",{children:"Loading..."}):b?(0,r.jsx)("div",{children:"User not found"}):(0,r.jsxs)("div",{className:"p-10 h-auto w-screen flex flex-col items-center bg-gray-100",children:[(0,r.jsxs)("h3",{className:"truncate text-3xl font-bold mb-5 max-w-[550px]",children:["Profile of ",x?.firstName," ",x?.lastName]}),x?(0,r.jsx)(l,{employee:x,onEdit:()=>t.push(`/employee/edit/${e}`),onDelete:()=>c(!0)}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)(d,{comments:x?.comments,onSubmitComment:e=>{f.mutate({text:e,username:x.username,author:s.username}),t.refresh()},isSubmitting:f.isPending}),(0,r.jsx)(a,{isOpen:m,onClose:()=>c(!1),onConfirm:j,isPending:g.isPending})]})}},9923:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hannes/Projects/hrms_nextjs/src/app/(afterLogin)/employee/[id]/page.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[442,625,438,893],()=>s(6617));module.exports=r})();